《实现领域驱动设计》

# 第一章 DDD 入门

## DDD 是什么

DDD 是一种思想，无关系统大小，他是教我们怎样开发好的软件，DDD 并非标新立异之物，而是软件发展的自然结果

其实我们在开发中都不知不觉的使用了一些 DDD 的知识，这些知识是我们在工作中自己摸索出来的，但是大师们在得出知识的基础上还能进行抽象和总结，并以流畅的方式表达出来，让大家都能受益

我们的目标是构建可测试、可伸缩、组织良好的软件

DDD 并不是关于技术的，而是关于讨论、聆听、理解、发现和业务价值的，而这些都是为了将知识集中起来

## 为什么需要 DDD

* 业务专家和开发者一起工作，这样开发出来的软件更准确的传达业务规则，就像代码是业务人员写的一样
* 帮助业务人员更精通业务
* 知识共享，将知识固化到软件中，代码就是设计，设计就是代码
* 统一语言，避免开发人员和业务人员之间的翻译
* DDD 同时提供了战略设计和战术设计两种方式，战略设计让我们确定哪些是重要的，战术设计帮助我们构建 DDD 的各个组件

贫血对象和失忆症

## 如何 DDD

两大支柱

* 通用语言
* 限界上下文

### 通用语言

`通用语言`是整个团队共享的一套语言，大家对概念的理解是一致的，对于不一致的地方，由于讨论和沟通，最终也要达成一致

大家都用一套语言沟通，就算有人离开也不影响团队的合作

举一个使用`通用语言`开发的例子，护士给病人注射流感疫苗

**第一种** 

```java
patient.setShotType(ShotTypes.TYPE_FLU);
patient.setDose(dose);
patient.setNurse(nurse);
```

**第二种**

```java
patient.giveFluShot();
```

**第三种**

```java
Vaccine vaccine = vaccines.standardAdultFluDose();
nurse.administerFluVaccine(patient, vaccine);
```

显然第三种更清晰，表达意图更准确

#### 如何掌握通用语言

建立术语表，各种术语都列出来，给出明确的定义，大家都按这个定义来沟通

### 限界上下文

一套`通用语言`是使用在一个`限界上下文`中的，不同`限界上下文`中同一个术语意义可能不同，这是需要进行`限界上下文`的映射，`限界上下文`的内容在下一章

## DDD 的业务价值

1. 获得了一个给常有用的领域模型（把精力花在有价值的东西上）
2. 对业务有了更准确的定义和理解
3. 领域专家可以为软件设计做出贡献
4. 更好的用户体验（对领域理解越深，设计出的软件往往更易于使用）
5. 清晰的边界模型，利于将技术资源集中在交付价值上
6. 更好的企业架构，通过对`限界上下文`的划分，更好的理解了企业的业务内容
7. 敏捷、迭代式和持续建模
8. 使用战术和战略新工具